{"version":3,"sources":["lib/haro.js"],"names":["global","r","clone","arg","JSON","parse","stringify","each","arr","fn","item","entries","keyIndex","key","data","delimiter","pattern","result","includes","split","sort","a","b","localeCompare","map","i","toString","replace","RegExp","toLowerCase","join","delIndex","index","indexes","forEach","idx","get","value","has","o","delete","size","s","Math","random","substring","setIndex","indice","lindex","Array","isArray","d","set","Set","add","lidx","uuid","substr","floor","Haro","[object Object]","id","versioning","this","Map","versions","Object","defineProperty","enumerable","from","keys","reindex","args","type","lazyLoad","del","Promise","all","beforeBatch","onbatch","e","onerror","beforeClear","clear","onclear","batch","retry","Error","og","exec","async","beforeDelete","ondelete","err","ii","first","second","handler","where","raw","list","x","k","v","freeze","reduce","ctx","call","push","offset","max","registry","slice","p","accumulator","next","indices","rgex","test","lset","lkey","values","override","beforeSet","merge","concat","onset","frozen","limit","predicate","op","filter","length","Function","factory","config","obj","version","exports","module","define","amd","haro","window"],"mappings":"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"}